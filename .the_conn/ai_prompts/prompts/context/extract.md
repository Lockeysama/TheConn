# Context 文档生成指南

根据需求文档、技术方案或架构讨论，生成项目上下文文档（`.the_conn/context/{编号}_{名称}.md`）。

## 文档类型与编号约定

| 编号范围 | 类型 | 示例 |
|---------|------|------|
| 00-09 | 全局架构 | `00_ARCHITECTURE.md` |
| 10-19 | 模块设计 | `10_DATASTREAM_DESIGN.md` |
| 20-29 | API 规范 | `20_API_SPECIFICATION.md` |
| 30-39 | 数据模型 | `30_DATA_MODELS.md` |
| 40-49 | 集成方案 | `40_THIRD_PARTY_INTEGRATION.md` |
| 50-59 | 运维部署 | `50_DEPLOYMENT_GUIDE.md` |

## 输出格式

根据文档类型选择合适的结构：

### 架构文档 (00-09)

```markdown
# {模块/系统}架构

## 1. 概述与目标

{简要说明架构目标和适用场景}

## 2. 核心设计原则

- {原则1}
- {原则2}

## 3. 系统架构

{架构图或组件说明}

## 4. 主要模块职责

- **{模块1}**: {职责}
- **{模块2}**: {职责}

## 5. 技术栈

- **{类别}**: {技术选型}
```

### 模块设计文档 (10-19)

```markdown
# {模块名称}设计

## 1. 概述与目标

{模块目标和解决的问题}

## 2. 核心设计

{核心算法、数据结构、流程}

## 3. 接口设计

{API 或函数签名}

## 4. 实施要点

{关键实现细节}
```

### API 规范文档 (20-29)

```markdown
# {API 名称}规范

## 1. 概述

{API 用途}

## 2. 端点列表

| 方法 | 路径 | 说明 |
|-----|------|------|

## 3. 请求/响应格式

{数据结构定义}

## 4. 错误码

| 错误码 | 说明 |
|-------|------|
```

## 生成原则

1. **聚焦决策**: 记录"为什么这样设计"，而非显而易见的细节
2. **保持精简**: 只包含 AI 完成任务必需的信息
3. **易于引用**: 结构清晰，便于在 manifest 中按需引用
4. **及时更新**: 架构变更后同步更新

## 使用场景

- **新项目启动**: 生成 `00_ARCHITECTURE.md` 作为全局上下文
- **新模块开发**: 生成 `1X_{MODULE}_DESIGN.md` 作为模块上下文
- **API 开发**: 生成 `2X_{API}_SPECIFICATION.md` 作为接口规范
- **技术方案评审后**: 将评审通过的方案转化为 context 文档

现在，请根据用户提供的材料生成 Context 文档。

