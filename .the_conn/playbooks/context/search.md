# Context æœç´¢æŒ‡å—

ä½ æ˜¯ä¸€ä½ AI åŠ©æ‰‹ï¼Œè´Ÿè´£ä¸ºå¼€å‘ä»»åŠ¡æœç´¢ç›¸å…³çš„ Context æ–‡æ¡£ã€‚æœ¬æŒ‡å—æä¾›æ ‡å‡†åŒ–çš„ Context æœç´¢é€»è¾‘ã€‚

## âš ï¸ é‡è¦ï¼šéµå®ˆåŸºç¡€å…¬çº¦

**æœ¬ Playbook ä¸¥æ ¼éµå®ˆ `@rules/base_rules.md` ä¸­å®šä¹‰çš„æ‰€æœ‰åŸºç¡€å…¬çº¦ã€‚**

## ç”¨é€”

ä¸º AI æä¾› Context æ–‡æ¡£æœç´¢é€»è¾‘ï¼Œä¾›å…¶ä»– playbookï¼ˆå¦‚ `task_generation.md`ï¼‰å¼•ç”¨ã€‚

---

## ğŸ“‹ é€Ÿè§ˆï¼ˆAI å¿«é€Ÿå†³ç­–ï¼‰

```mermaid
graph LR
    A[å…³é”®è¯è¾“å…¥] --> B[ç¡®å®šæœç´¢è·¯å¾„]
    B --> C[åŒ¹é…ä¸è¯„åˆ†]
    C --> D{åˆ†æ•°â‰¥6?}
    D -->|æ˜¯| E[è¿”å›ç»“æœ<br/>3-6ä¸ª]
    D -->|å¦| F[ä¿åº•è¿”å›<br/>Global Context]
    E --> G[âœ… å®Œæˆ]
    F --> G
```

**å…³é”®ç‚¹**ï¼š
- âœ… **ç›¸å…³åº¦é˜ˆå€¼ â‰¥ 6**ï¼šæ–‡ä»¶ååŒ¹é…ï¼ˆ7-10åˆ†ï¼‰æˆ– Frontmatter åŒ¹é…ï¼ˆ6åˆ†ï¼‰
- âœ… **æ•°é‡æ§åˆ¶**ï¼šå»ºè®® 3-6 ä¸ªï¼Œç»å¯¹ä¸Šé™ 8 ä¸ªï¼ˆå®ç¼ºæ¯‹æ»¥ï¼‰
- âœ… **ä¿åº•æœºåˆ¶**ï¼šæ— é«˜ç›¸å…³åº¦ç»“æœæ—¶ï¼Œæ ¹æ®ä»»åŠ¡ç±»å‹è¿”å› Global Context
- âœ… **è·¨ Epic æœç´¢**ï¼šä¸å±€é™äºå½“å‰ Epicï¼Œå…³é”®è¯åŒ¹é…å…¶ä»– Epic ä¹Ÿè¿”å›

---

## è¾“å…¥å‚æ•°

| å‚æ•°          | ç±»å‹   | å¿…éœ€ | è¯´æ˜                                                                                                                   |
| ------------- | ------ | ---- | ---------------------------------------------------------------------------------------------------------------------- |
| `keywords`    | array  | âœ…    | æŠ€æœ¯å…³é”®è¯æ•°ç»„ï¼ˆ3-6 ä¸ªï¼‰ï¼Œå‚è€ƒ `@rules/keyword_extraction_rules.md`                                                    |
| `task_type`   | string | âœ…    | ä»»åŠ¡ç±»å‹ï¼š`requirements_review`/`task_generation`/`context_add`/`quick_change`/`e2e_test`/`performance_test`/`general` |
| `epic`        | string | âŒ    | Epic IDï¼ˆå¦‚ `EPIC-01`ï¼‰ï¼Œç”¨äºé™å®šæœç´¢èŒƒå›´                                                                              |
| `type_filter` | array  | âŒ    | Context ç±»å‹è¿‡æ»¤ï¼š`architecture`/`tech_stack`/`module_design`/`data_model`/`testing_strategy`/`coding_standard`        |

---

## æ ‡å‡†è°ƒç”¨æ¥å£

### è¾“å…¥æ ¼å¼ï¼ˆJSONï¼‰

```json
{
  "keywords": ["keyword1", "keyword2", "keyword3"],
  "task_type": "requirements_review",
  "epic": "EPIC-01",
  "type_filter": ["module_design", "architecture"]
}
```

### è¾“å‡ºæ ¼å¼ï¼ˆJSONï¼‰

```json
{
  "contexts": [
    ".the_conn/context/global/Architecture.md",
    ".the_conn/context/global/Tech_Stack.md",
    ".the_conn/context/epics/EPIC-01/Module_Design_Auth.md"
  ],
  "total": 3,
  "task_type": "requirements_review",
  "search_keywords": ["authentication", "jwt", "redis"],
  "message": "æ‰¾åˆ° 3 ä¸ªåŒ¹é…çš„ Context"
}
```

---

## ğŸš¨ å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ

| #     | é”™è¯¯ç±»å‹             | é”™è¯¯è¡¨ç°                               | æ­£ç¡®åšæ³•                                             | ä¸ºä»€ä¹ˆé”™è¯¯                               |
| ----- | -------------------- | -------------------------------------- | ---------------------------------------------------- | ---------------------------------------- |
| **1** | **è¿‡åº¦åŒ¹é…**         | è¿”å›äº† 10+ ä¸ªä½ç›¸å…³åº¦æ–‡æ¡£              | **ç›¸å…³åº¦é˜ˆå€¼ â‰¥ 6**ï¼Œåªè¿”å› 3-6 ä¸ª                    | ä½ç›¸å…³åº¦æ–‡æ¡£ä¼šå¯¼è‡´æ³¨æ„åŠ›æ¼‚ç§»             |
| **2** | **ä»…æœç´¢å½“å‰ Epic**  | åªè¿”å›å½“å‰ Epic çš„ Context             | **è·¨ Epic æœç´¢**ï¼Œå…¶ä»– Epic çš„é«˜ç›¸å…³åº¦æ–‡æ¡£ä¹Ÿè¿”å›     | åŠŸèƒ½ç»å¸¸è·¨ Epic ä¾èµ–æˆ–å¤ç”¨               |
| **3** | **æ— ç»“æœå°±è¿”å›ç©º**   | å…³é”®è¯æœªåŒ¹é…å°±è¿”å›ç©ºæ•°ç»„               | **ä¿åº•æœºåˆ¶**ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹è¿”å› Global Context        | æŸäº›ä»»åŠ¡ï¼ˆå¦‚éœ€æ±‚è¯„å®¡ï¼‰éœ€è¦åŸºç¡€æ¶æ„ä¿¡æ¯   |
| **4** | **å†…å®¹åŒ¹é…æƒé‡è¿‡é«˜** | è¿”å›äº†ä»…å†…å®¹æåˆ°å…³é”®è¯çš„æ–‡æ¡£ï¼ˆåˆ†æ•° 3ï¼‰ | **åªè¿”å›åˆ†æ•° â‰¥ 6 çš„æ–‡æ¡£**ï¼ˆæ–‡ä»¶å/Frontmatter åŒ¹é…ï¼‰ | å†…å®¹åŒ¹é…å¯èƒ½åªæ˜¯ç•¥å¾®æåˆ°ï¼Œä¸ä»£è¡¨çœŸæ­£ç›¸å…³ |
| **5** | **æœªæ§åˆ¶æ•°é‡**       | è¿”å›æ‰€æœ‰åŒ¹é…çš„æ–‡æ¡£ï¼ˆå¦‚ 15 ä¸ªï¼‰         | **æ•°é‡é™åˆ¶**ï¼šå»ºè®® 3-6 ä¸ªï¼Œç»å¯¹ä¸Šé™ 8 ä¸ª             | è¿‡å¤šæ–‡æ¡£å¯¼è‡´ Token æµªè´¹å’Œæ³¨æ„åŠ›åˆ†æ•£      |

---

## æœç´¢æµç¨‹

```mermaid
graph TD
    A[Step 1: ç¡®å®šæœç´¢è·¯å¾„] --> B[Step 2: åŒ¹é…ç­–ç•¥ä¸ç›¸å…³åº¦è¯„åˆ†]
    B --> C[Step 3: æ’åºè§„åˆ™]
    C --> D[Step 4: å»é‡ã€è¿‡æ»¤ä¸é™åˆ¶]
    D --> E{é«˜ç›¸å…³åº¦â‰¥2ä¸ª?}
    E -->|æ˜¯| F[è¿”å›åŒ¹é…ç»“æœ]
    E -->|å¦| G[Step 5: æ™ºèƒ½ä¿åº•è¿”å›]
    G --> F
```

### Step 1: ç¡®å®šæœç´¢è·¯å¾„

**æœç´¢èŒƒå›´**ï¼ˆæ€»æ˜¯æœç´¢æ‰€æœ‰ç›¸å…³è·¯å¾„ï¼‰:

```
1. .the_conn/context/global/
2. .the_conn/context/epics/EPIC-XX/ (æ‰€æœ‰ Epic ç›®å½•)
```

**é‡è¦è¯´æ˜**ï¼š
- âœ… **ä¸å±€é™äºå½“å‰ Epic**ï¼šå…³é”®è¯åŒ¹é…åˆ°å…¶ä»– Epic çš„ Context ä¹Ÿåº”è¿”å›ï¼ˆç†ç”±ï¼šå¾ˆå¤šåŠŸèƒ½ä¼šè·¨ Epic ä¾èµ–æˆ–å¤ç”¨è®¾è®¡ï¼‰
- âœ… **Global Context ç±»å‹é™åˆ¶**ï¼šåªåŒ…å« `Architecture.md`/`Tech_Stack.md`/`Testing_Strategy.md`/`Coding_Standard_{Language}.md`
- âœ… **Epic Context ç±»å‹**ï¼šå¯ä»¥æœ‰å„ç§å…·ä½“è®¾è®¡æ–‡æ¡£ï¼ˆ`Module_Design_*.md`/`Data_Model_*.md`/`API_Design_*.md` ç­‰ï¼‰

**æœç´¢ä¼˜å…ˆçº§**ï¼šGlobal Context > å½“å‰ Epic Context > å…¶ä»– Epic Context

---

### Step 2: åŒ¹é…ç­–ç•¥ä¸ç›¸å…³åº¦è¯„åˆ†

**æŒ‰ä¼˜å…ˆçº§é¡ºåºåŒ¹é…ï¼Œå¹¶è®¡ç®—ç›¸å…³åº¦åˆ†æ•°**ï¼š

| ä¼˜å…ˆçº§ | åŒ¹é…ç±»å‹         | æƒé‡ | è¯´æ˜                                                  |
| ------ | ---------------- | ---- | ----------------------------------------------------- |
| 1      | æ–‡ä»¶åç²¾ç¡®åŒ¹é…   | 10   | å…³é”®è¯**å®Œå…¨åŒ¹é…**æ–‡ä»¶åä¸­çš„å•è¯ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰      |
| 2      | æ–‡ä»¶åéƒ¨åˆ†åŒ¹é…   | 7    | å…³é”®è¯æ˜¯æ–‡ä»¶åçš„ä¸€éƒ¨åˆ†                                |
| 3      | Frontmatter åŒ¹é… | 6    | å…³é”®è¯åŒ¹é… tags æ•°ç»„ä¸­çš„ä»»ä¸€æ ‡ç­¾ or å‡ºç°åœ¨ title å­—æ®µ |
| 4      | å†…å®¹åŒ¹é…         | 3    | å…³é”®è¯å‡ºç°åœ¨ç« èŠ‚æ ‡é¢˜æˆ–å‰ 500 å­—ç¬¦å†…å®¹ä¸­               |

**ç›¸å…³åº¦é˜ˆå€¼**: âœ… åªè¿”å›ç›¸å…³åº¦åˆ†æ•° â‰¥ 6 çš„æ–‡ä»¶ | âŒ ä¸è¿”å›ä»…å†…å®¹åŒ¹é…ï¼ˆæƒé‡ 3ï¼‰çš„æ–‡ä»¶

---

### Step 3: æ’åºè§„åˆ™

**å¯¹åŒ¹é…ç»“æœæŒ‰ä»¥ä¸‹è§„åˆ™æ’åº**ï¼š

1. **ç›¸å…³åº¦åˆ†æ•°**ï¼ˆæƒé‡æœ€é«˜ï¼‰ï¼šæ–‡ä»¶åç²¾ç¡®åŒ¹é…ï¼ˆ10 åˆ†ï¼‰> æ–‡ä»¶åéƒ¨åˆ†åŒ¹é…ï¼ˆ7 åˆ†ï¼‰> Frontmatter åŒ¹é…ï¼ˆ6 åˆ†ï¼‰
2. **Context èŒƒå›´**ï¼ˆæ¬¡è¦ï¼‰ï¼šGlobal Context > å½“å‰ Epic Context > å…¶ä»– Epic Context
3. **æ›´æ–°æ—¶é—´**ï¼ˆæœ€åï¼‰ï¼šå¦‚æœ Frontmatter æœ‰ `updated` å­—æ®µï¼Œä¼˜å…ˆè¿”å›æœ€è¿‘æ›´æ–°çš„æ–‡æ¡£

---

### Step 4: å»é‡ã€è¿‡æ»¤ä¸é™åˆ¶

| æ­¥éª¤           | è§„åˆ™                                                                                                                 |
| -------------- | -------------------------------------------------------------------------------------------------------------------- |
| **å»é‡**       | åŒä¸€æ–‡ä»¶åªè¿”å›ä¸€æ¬¡                                                                                                   |
| **ç›¸å…³åº¦è¿‡æ»¤** | **åªè¿”å›ç›¸å…³åº¦åˆ†æ•° â‰¥ 6 çš„æ–‡ä»¶** / å‰”é™¤ä½ç›¸å…³åº¦æ–‡ä»¶ï¼ˆä»…å†…å®¹åŒ¹é…ï¼Œåˆ†æ•° < 6ï¼‰                                           |
| **æ•°é‡é™åˆ¶**   | **ç²¾ç¡®æ§åˆ¶è¿”å›æ•°é‡**ï¼šå»ºè®®è¿”å› **3-6 ä¸ª**æœ€ç›¸å…³çš„æ–‡ä»¶<br/>**ç»å¯¹ä¸Šé™**ï¼š8 ä¸ªæ–‡ä»¶<br/>é«˜ç›¸å…³åº¦ > 6 ä¸ª â†’ ä¸¥æ ¼å–å‰ 6 ä¸ª |

**å…‹åˆ¶åŸåˆ™**ï¼š
- âœ… å®ç¼ºæ¯‹æ»¥ï¼šåªè¿”å›çœŸæ­£éœ€è¦çš„ Context
- âŒ ä¸è¦"å¯èƒ½æœ‰ç”¨å°±è¿”å›"ï¼šé¿å…æ³¨æ„åŠ›æ¼‚ç§»
- âŒ ä¸è¦"å…³è”åº¦å¾ˆä½ä½†ç¡®å®æœ‰ç‚¹å…³è”"å°±å…¨éƒ¨è¿”å›

---

### Step 5: æ™ºèƒ½ä¿åº•è¿”å›æœºåˆ¶

**è§¦å‘æ¡ä»¶**ï¼šé«˜ç›¸å…³åº¦ï¼ˆåˆ†æ•° â‰¥ 6ï¼‰åŒ¹é…ç»“æœ < 2 ä¸ª ä¸” `.the_conn/context/global/` ç›®å½•å­˜åœ¨

**æŒ‰ä»»åŠ¡ç±»å‹æ¨æ–­éœ€è¦çš„ Context**

| ä»»åŠ¡ç±»å‹              | ä¿åº•è¿”å›çš„æ–‡ä»¶                           | ç†ç”±                                    |
| --------------------- | ---------------------------------------- | --------------------------------------- |
| `requirements_review` | Architecture.md<br/>Tech_Stack.md        | éœ€æ±‚è¯„å®¡éœ€è¦äº†è§£æ•´ä½“æ¶æ„å’Œå¯ç”¨æŠ€æœ¯æ ˆ    |
| `task_generation`     | Architecture.md<br/>Coding_Standard_*.md | Task ç”Ÿæˆéœ€è¦äº†è§£æ¶æ„å’Œç¼–ç è§„èŒƒ         |
| `quick_change`        | ä»…å…³é”®è¯åŒ¹é…çš„ç»“æœ                       | Bug/Hotfix é€šå¸¸åªéœ€è¦ç›¸å…³æ¨¡å—çš„ Context |
| `e2e_test`            | Architecture.md<br/>Testing_Strategy.md  | E2E æµ‹è¯•éœ€è¦äº†è§£æ¶æ„å’Œæµ‹è¯•ç­–ç•¥          |
| `performance_test`    | Architecture.md<br/>Testing_Strategy.md  | æ€§èƒ½æµ‹è¯•éœ€è¦äº†è§£æ¶æ„å’Œæµ‹è¯•ç­–ç•¥          |
| `general`             | Architecture.md<br/>Tech_Stack.md        | é€šç”¨æœç´¢è¿”å›åŸºç¡€ Context                |

**ä¿åº•è¿”å›è§„åˆ™**ï¼š
1. æ ¹æ®ä»»åŠ¡ç±»å‹ç¡®å®šéœ€è¦è¿”å›çš„ **Global Context æ–‡ä»¶**ï¼ˆâš ï¸ ä¿åº•è¿”å›**åªä» Global Context ä¸­é€‰æ‹©**ï¼‰
2. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œåªè¿”å›å­˜åœ¨çš„æ–‡ä»¶
3. å¦‚æœä»»åŠ¡ç±»å‹å»ºè®®çš„ Global Context æ–‡ä»¶éƒ½ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºç»“æœ

---

## è¾“å‡ºæ ¼å¼

### æˆåŠŸè¿”å›ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰

```json
{
  "contexts": [
    ".the_conn/context/global/Architecture.md",
    ".the_conn/context/global/Tech_Stack.md",
    ".the_conn/context/epics/EPIC-01/Module_Design_Auth.md"
  ],
  "total": 3,
  "search_keywords": ["authentication", "JWT"],
  "message": "æ‰¾åˆ° 3 ä¸ªåŒ¹é…çš„ Context"
}
```

### ä¿åº•è¿”å›ï¼ˆæ— ç²¾ç¡®åŒ¹é…ï¼‰

```json
{
  "contexts": [
    ".the_conn/context/global/Architecture.md",
    ".the_conn/context/global/Tech_Stack.md"
  ],
  "total": 2,
  "search_keywords": ["unknown_keyword"],
  "message": "æœªæ‰¾åˆ°ç²¾ç¡®åŒ¹é…ï¼Œè¿”å›é€šç”¨ Global Context"
}
```

### å®Œå…¨æ—  Context

```json
{
  "contexts": [],
  "total": 0,
  "search_keywords": ["unknown_keyword"],
  "message": "é¡¹ç›®å°šæœªå»ºç«‹ Contextï¼Œå»ºè®®ä½¿ç”¨ @playbooks/context/add.md åˆ›å»º"
}
```

---

## å…³é”®è¯æå–å»ºè®®

**ä» Story æˆ–ä»»åŠ¡æè¿°ä¸­æå–å…³é”®è¯æ—¶ï¼Œåº”åŒ…æ‹¬**ï¼š

1. **æŠ€æœ¯æœ¯è¯­**ï¼šç¼–ç¨‹è¯­è¨€ã€æ¡†æ¶ã€åº“åç§°ï¼ˆç¤ºä¾‹ï¼š`Python`, `Flask`, `JWT`, `Redis`ï¼‰
2. **åŠŸèƒ½æ¨¡å—**ï¼šä¸šåŠ¡é¢†åŸŸæˆ–æ¨¡å—åç§°ï¼ˆç¤ºä¾‹ï¼š`authentication`, `payment`, `notification`ï¼‰
3. **æ¶æ„ç»„ä»¶**ï¼šç³»ç»Ÿæ¶æ„ç›¸å…³æœ¯è¯­ï¼ˆç¤ºä¾‹ï¼š`API`, `database`, `cache`, `message queue`ï¼‰
4. **è®¾è®¡æ¨¡å¼**ï¼šå¦‚æœ Story æ¶‰åŠç‰¹å®šè®¾è®¡æ¨¡å¼ï¼ˆç¤ºä¾‹ï¼š`factory pattern`, `singleton`, `repository`ï¼‰

**å…³é”®è¯æå–åŸåˆ™**ï¼š
- âœ… æå–ä¸“ä¸šæœ¯è¯­ï¼Œé¿å…é€šç”¨è¯æ±‡ï¼ˆå¦‚"å®ç°"ã€"å¼€å‘"ï¼‰
- âœ… åŒ…å«åŒä¹‰è¯å’Œç¼©å†™ï¼ˆå¦‚ `auth` å’Œ `authentication`ï¼‰
- âœ… ä¿æŒ 3-6 ä¸ªå…³é”®è¯ï¼ˆé¿å…è¿‡å¤šæˆ–è¿‡å°‘ï¼‰

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: requirements_review éœ€æ±‚è¯„å®¡ï¼ˆè·¨ Epic æœç´¢ï¼‰

```
ç”¨æˆ·è¾“å…¥: "æˆ‘è¦åœ¨è®¢å•ç³»ç»Ÿä¸­å®ç°ç”¨æˆ·è®¤è¯"
å½“å‰ Epic: EPIC-02 (è®¢å•ç®¡ç†)

AI æ‰§è¡Œ:
1. æå–å…³é”®è¯: ["authentication", "user", "order"]
2. è°ƒç”¨ search.md:
   - å…³é”®è¯: ["authentication", "user", "order"]
   - ä»»åŠ¡ç±»å‹: requirements_review
   - Epic: EPIC-02

æœç´¢è¿‡ç¨‹:
- æœç´¢ Global Context: æ‰¾åˆ° Architecture.md, Tech_Stack.md
- æœç´¢ EPIC-01 (ç”¨æˆ·ç®¡ç†): æ‰¾åˆ° Module_Design_Auth.mdï¼ˆæ–‡ä»¶ååŒ¹é… "auth", åˆ†æ•° 10ï¼‰
- æœç´¢ EPIC-02 (è®¢å•ç®¡ç†): æ‰¾åˆ° Module_Design_Order.mdï¼ˆæ–‡ä»¶ååŒ¹é… "order", åˆ†æ•° 10ï¼‰
- æœç´¢ EPIC-03 (æ”¯ä»˜): æ‰¾åˆ° Payment_Integration.mdï¼ˆå†…å®¹ä¸­æåˆ° "authentication", åˆ†æ•° 3ï¼‰

ç›¸å…³åº¦è¿‡æ»¤:
- âœ… ä¿ç•™: Architecture.md, Tech_Stack.md, Module_Design_Auth.md, Module_Design_Order.md (åˆ†æ•° â‰¥ 6)
- âŒ å‰”é™¤: Payment_Integration.md (åˆ†æ•° 3 < 6ï¼Œä»…å†…å®¹æåˆ°)

è¿”å›ç»“æœï¼ˆè·¨ Epicï¼‰:
{
  "contexts": [
    ".the_conn/context/global/Architecture.md",
    ".the_conn/context/global/Tech_Stack.md",
    ".the_conn/context/epics/EPIC-01/Module_Design_Auth.md",  â† æ¥è‡ªå…¶ä»– Epic
    ".the_conn/context/epics/EPIC-02/Module_Design_Order.md"
  ],
  "total": 4,
  "task_type": "requirements_review",
  "message": "æ‰¾åˆ° 4 ä¸ªåŒ¹é…çš„ Contextï¼ˆåŒ…å«è·¨ Epicï¼‰"
}

AI è¡Œä¸º:
- å¤ç”¨ EPIC-01 çš„è®¤è¯è®¾è®¡ï¼Œé¿å…é‡å¤è®¾è®¡
- äº†è§£ EPIC-02 è®¢å•æ¨¡å—çš„ç°æœ‰è®¾è®¡
```

### ç¤ºä¾‹ 2: task_generation Task ç”Ÿæˆ

```
Story å†…å®¹: "å®ç°ç”¨æˆ·ç™»å½• API"

AI æ‰§è¡Œ:
1. æå–å…³é”®è¯: ["login", "API", "authentication"]
2. è°ƒç”¨ search.md:
   - å…³é”®è¯: ["login", "API", "authentication"]
   - ä»»åŠ¡ç±»å‹: task_generation
   - Epic: EPIC-01

è¿”å›ç»“æœ:
{
  "contexts": [
    ".the_conn/context/global/Architecture.md",
    ".the_conn/context/global/Coding_Standard_Python.md",
    ".the_conn/context/epics/EPIC-01/Module_Design_Auth.md"
  ],
  "total": 3,
  "task_type": "task_generation"
}

åç»­æ“ä½œ:
å°†è¿”å›çš„ Context å†™å…¥ context.manifest.json çš„ contexts æ•°ç»„
```

### ç¤ºä¾‹ 3: quick_change Bug ä¿®å¤

```
ç”¨æˆ·è¾“å…¥: "STORY-03 ç™»å½•æ—¶å¯†ç éªŒè¯å¤±è´¥"

AI æ‰§è¡Œ:
1. æå–å…³é”®è¯: ["login", "password", "validation"]
2. è°ƒç”¨ search.md:
   - å…³é”®è¯: ["login", "password", "validation"]
   - ä»»åŠ¡ç±»å‹: quick_change
   - Epic: EPIC-01ï¼ˆä» STORY-03 è·å–ï¼‰

è¿”å›ç»“æœï¼ˆå‡è®¾æœªæ‰¾åˆ°ç²¾ç¡®åŒ¹é…ï¼‰:
{
  "contexts": [],
  "total": 0,
  "task_type": "quick_change",
  "message": "æœªæ‰¾åˆ°ç²¾ç¡®åŒ¹é…ï¼Œquick_change ä»»åŠ¡ä¸ä½¿ç”¨ä¿åº•è¿”å›"
}

AI è¡Œä¸º:
- ä¸åŠ è½½é¢å¤–çš„ Contextï¼ˆBug ä¿®å¤é€šå¸¸åªéœ€è¦ä»£ç æœ¬èº«ï¼‰
- ç›´æ¥åˆ†æ STORY-03 å’Œç›¸å…³ä»£ç 
```

### ç¤ºä¾‹ 4: e2e_test E2E æµ‹è¯•è§„åˆ’ï¼ˆä¿åº•è¿”å›ï¼‰

```
Feature å†…å®¹: "æ–°åŠŸèƒ½çš„ç«¯åˆ°ç«¯æµ‹è¯•"

AI æ‰§è¡Œ:
1. æå–å…³é”®è¯: ["new_feature", "workflow"]
2. è°ƒç”¨ search.md:
   - å…³é”®è¯: ["new_feature", "workflow"]
   - ä»»åŠ¡ç±»å‹: e2e_test
   - Epic: EPIC-01

æœç´¢ç»“æœ:
- æœªæ‰¾åˆ°é«˜ç›¸å…³åº¦åŒ¹é…ï¼ˆåˆ†æ•° â‰¥ 6ï¼‰

è§¦å‘ä¿åº•è¿”å›:
- ä»»åŠ¡ç±»å‹ e2e_test éœ€è¦: Architecture.md, Testing_Strategy.md
- æ£€æŸ¥æ–‡ä»¶å­˜åœ¨ï¼Œè¿”å›è¿™ä¸¤ä¸ªæ–‡ä»¶

è¿”å›ç»“æœ:
{
  "contexts": [
    ".the_conn/context/global/Architecture.md",
    ".the_conn/context/global/Testing_Strategy.md"
  ],
  "total": 2,
  "task_type": "e2e_test",
  "message": "æœªæ‰¾åˆ°ç²¾ç¡®åŒ¹é…ï¼Œæ ¹æ®ä»»åŠ¡ç±»å‹è¿”å›ç›¸å…³ Global Context"
}

è¯´æ˜:
- âœ… åªè¿”å›ä»»åŠ¡éœ€è¦çš„ Global Contextï¼ˆArchitecture, Testing_Strategyï¼‰
- âŒ ä¸è¿”å› Tech_Stack.mdï¼ˆE2E æµ‹è¯•ä¸éœ€è¦ï¼‰
- âŒ ä¸è¿”å› Coding_Standardï¼ˆE2E æµ‹è¯•ä¸éœ€è¦ï¼‰
```

### ç¤ºä¾‹ 5: ç›¸å…³åº¦è¿‡æ»¤ï¼ˆé¿å…ä½ç›¸å…³åº¦æ–‡æ¡£ï¼‰

```
ç”¨æˆ·è¾“å…¥: "å®ç°æ”¯ä»˜åŠŸèƒ½"

AI æ‰§è¡Œ:
1. æå–å…³é”®è¯: ["payment", "transaction"]
2. è°ƒç”¨ search.md:
   - å…³é”®è¯: ["payment", "transaction"]
   - ä»»åŠ¡ç±»å‹: task_generation
   - Epic: EPIC-03

æœç´¢ç»“æœ:
- Payment_Design.md (æ–‡ä»¶åç²¾ç¡®åŒ¹é… "payment", åˆ†æ•° 10) âœ…
- Transaction_Model.md (æ–‡ä»¶åç²¾ç¡®åŒ¹é… "transaction", åˆ†æ•° 10) âœ…
- Order_Management.md (Frontmatter tags åŒ…å« "payment", åˆ†æ•° 6) âœ…
- User_Profile.md (å†…å®¹ä¸­æŸä¸€æ®µæåˆ° "transaction history", åˆ†æ•° 3) âŒ
- System_Log.md (å†…å®¹ä¸­æŸä¸€æ®µæåˆ° "payment logs", åˆ†æ•° 3) âŒ

ç›¸å…³åº¦è¿‡æ»¤ï¼ˆé˜ˆå€¼ â‰¥ 6ï¼‰:
- âœ… ä¿ç•™: Payment_Design.md, Transaction_Model.md, Order_Management.md
- âŒ å‰”é™¤: User_Profile.md, System_Log.mdï¼ˆä»…ç•¥å¾®æåˆ°ï¼Œåˆ†æ•° < 6ï¼‰

è¿”å›ç»“æœï¼ˆå…‹åˆ¶åŸåˆ™ï¼‰:
{
  "contexts": [
    ".the_conn/context/epics/EPIC-03/Payment_Design.md",
    ".the_conn/context/epics/EPIC-03/Transaction_Model.md",
    ".the_conn/context/epics/EPIC-02/Order_Management.md"
  ],
  "total": 3,
  "task_type": "task_generation",
  "message": "æ‰¾åˆ° 3 ä¸ªé«˜ç›¸å…³åº¦åŒ¹é…"
}

é¿å…çš„é—®é¢˜:
- âŒ ä¸è¿”å› User_Profile.mdï¼ˆè™½ç„¶æåˆ° transaction historyï¼Œä½†ä¸æ˜¯æ ¸å¿ƒå†…å®¹ï¼‰
- âŒ ä¸è¿”å› System_Log.mdï¼ˆè™½ç„¶æåˆ° payment logsï¼Œä½†å…³è”åº¦å¾ˆä½ï¼‰
- âœ… é¿å…æ³¨æ„åŠ›æ¼‚ç§»å’Œ Tokens çˆ†ç‚¸
```

---

## æœç´¢ä¼˜åŒ–å»ºè®®

### æé«˜åŒ¹é…å‡†ç¡®æ€§

1. **ä½¿ç”¨åŒä¹‰è¯æ‰©å±•**ï¼š`auth` â†” `authentication` | `db` â†” `database` | `msg` â†” `message`
2. **å¿½ç•¥åœç”¨è¯**ï¼šè¿‡æ»¤ï¼š`the`, `a`, `an`, `of`, `for`, `to`
3. **æ”¯æŒæ¨¡ç³ŠåŒ¹é…**ï¼š`authentication` å¯åŒ¹é… `Authentication_Design.md` | `user` å¯åŒ¹é… `User_Management.md`

### é¿å…è¿‡åº¦åŒ¹é…

- âŒ ä¸è¦è¿”å›å®Œå…¨æ— å…³çš„æ–‡æ¡£
- âœ… å¦‚æœæ²¡æœ‰é«˜è´¨é‡åŒ¹é…ï¼Œå®å¯è¿”å›ç©ºç»“æœ

---

## æ³¨æ„äº‹é¡¹

1. **Context ä¸å­˜åœ¨çš„æƒ…å†µ**ï¼š
   - å¦‚æœ `.the_conn/context/` ç›®å½•ä¸ºç©ºæˆ–ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºç»“æœ
   - æç¤ºç”¨æˆ·ä½¿ç”¨ `@playbooks/context/add.md` åˆ›å»º Context

2. **Epic Context ç¼ºå¤±çš„æƒ…å†µ**ï¼š
   - å¦‚æœæŒ‡å®šäº† Epic ä½†è¯¥ Epic æ²¡æœ‰ Contextï¼Œåªæœç´¢ Global Context

3. **æ€§èƒ½è€ƒè™‘**ï¼š
   - ä¼˜å…ˆä½¿ç”¨æ–‡ä»¶åå’Œ Frontmatter åŒ¹é…ï¼ˆå¿«é€Ÿï¼‰
   - å†…å®¹åŒ¹é…ä»…æ‰«ææ–‡ä»¶å‰ 500 å­—ç¬¦ï¼ˆé¿å…è¯»å–å¤§æ–‡ä»¶ï¼‰

4. **ä¸å…¶ä»–å·¥å…·çš„é…åˆ**ï¼š
   - æœç´¢ç»“æœåº”ä¸ `context.manifest.json` æ ¼å¼å…¼å®¹
   - æœç´¢ç»“æœå¯è¢« `task_generation.md` ç›´æ¥ä½¿ç”¨

---

## å¿«é€Ÿè‡ªæ£€æ¸…å•

AI åœ¨æ‰§è¡Œæœç´¢å‰å¿…é¡»æ£€æŸ¥ï¼š

- [ ] æˆ‘è®¾ç½®äº†**ç›¸å…³åº¦é˜ˆå€¼ â‰¥ 6**ï¼ˆåªè¿”å›æ–‡ä»¶åæˆ– Frontmatter åŒ¹é…ï¼‰
- [ ] æˆ‘çš„æœç´¢èŒƒå›´åŒ…æ‹¬**æ‰€æœ‰ Epic**ï¼ˆä¸å±€é™äºå½“å‰ Epicï¼‰
- [ ] æˆ‘æ§åˆ¶äº†**è¿”å›æ•°é‡**ï¼ˆå»ºè®® 3-6 ä¸ªï¼Œä¸Šé™ 8 ä¸ªï¼‰
- [ ] å¦‚æœé«˜ç›¸å…³åº¦ç»“æœ < 2 ä¸ªï¼Œæˆ‘è§¦å‘äº†**ä¿åº•è¿”å›æœºåˆ¶**
- [ ] æˆ‘éµå¾ªäº†**å®ç¼ºæ¯‹æ»¥**åŸåˆ™ï¼ˆä½ç›¸å…³åº¦çš„ä¸è¿”å›ï¼‰

---

ç°åœ¨ï¼Œè¯·æ ¹æ®æä¾›çš„å…³é”®è¯å’Œå‚æ•°æ‰§è¡Œ Context æœç´¢ã€‚

